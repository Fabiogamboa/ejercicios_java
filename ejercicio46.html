<!DOCTYPE html>
<html>
<head>
    <title>Tienda en Línea</title>
</head>
<body>
    <script>
        function solicitarProducto() {
            let precio = parseFloat(prompt("Ingrese el precio del producto:"));
            let cantidad = parseInt(prompt("Ingrese la cantidad que desea comprar:"));

            // Verificar que el precio y la cantidad sean válidos
            if (isNaN(precio) || precio < 0 || isNaN(cantidad) || cantidad < 1) {
                alert("Error: Debe ingresar un precio válido (número positivo) y una cantidad válida (número entero positivo).");
                return null; // Retornar null si hay un error
            }

            return { precio, cantidad }; // Retornar un objeto con el precio y la cantidad
        }

        function calcularCostoTotal(productos) {
            let total = 0;
            for (let producto of productos) {
                total += producto.precio * producto.cantidad; // Sumar el costo de cada producto
            }
            return total; // Retornar el costo total
        }

        function iniciarCompra() {
            let productos = []; // Array para almacenar los productos
            let continuar = true;

            while (continuar) {
                let producto = solicitarProducto();
                if (producto) {
                    productos.push(producto); // Agregar el producto al array
                }

                // Preguntar si el usuario desea agregar otro producto
                let respuesta = prompt("¿Desea agregar otro producto? (si/no)").toLowerCase();
                if (respuesta !== "si") {
                    continuar = false; // Salir del bucle
                }
            }

            // Calcular y mostrar el costo total
            let totalCompra = calcularCostoTotal(productos);
            alert("El costo total de su compra es: $" + totalCompra.toFixed(2));
        }

        iniciarCompra();
    </script>
</body>
</html>